(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/lizard.d56c869e.svg"},30:function(e,t,a){e.exports=a.p+"static/media/upload.893e3b65.svg"},31:function(e,t,a){e.exports=a.p+"static/media/download.b3aa4b4b.svg"},32:function(e,t,a){e.exports=a.p+"static/media/trash.5bd80917.svg"},35:function(e,t,a){e.exports=a(71)},40:function(e,t,a){},41:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(8),o=a.n(l),c=(a(40),a(11)),r=a(12),s=a(14),d=a(13),u=a(15),m=(a(41),a(10)),p=a.n(m),f=a(76),g=a(72),h=a(77),v=a(29),E=a.n(v),b=a(30),w=a.n(b),y=a(31),k=a.n(y);function F(e,t){p.a.get(e+"/delete?id="+t.id)}var O=a(5),N=a(78),j=a(73),C=a(74),D=a(75),S=a(32),T=a.n(S),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={endpoint:e.endpoint,modal:!1,file:e.file},a.toggle=a.toggle.bind(Object(O.a)(a)),a.deleteFile=e.deleteFile,a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"deleteAndToggle",value:function(e){this.toggle(),this.deleteFile(this.state.endpoint,e)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{className:"deleteBtn",onClick:this.toggle},i.a.createElement("img",{className:"deleteIcon",src:T.a,alt:"delete icon"})),i.a.createElement(N.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},i.a.createElement(j.a,{toggle:this.toggle},"Confirm Delete"),i.a.createElement(C.a,null,"Do you want to remove this file?"),i.a.createElement(D.a,null,i.a.createElement(g.a,{color:"danger",onClick:function(){return e.deleteAndToggle(e.state.file)}},"Delete")," ",i.a.createElement(g.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(i.a.Component),A=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).production_url="https://lizard-storage-backend.herokuapp.com",e.state={files:[]},e.uploadingFile={file:null,name:""},e}return Object(u.a)(t,e),Object(r.a)(t,[{key:"updateFileState",value:function(){var e=this;p.a.get(this.production_url+"/showall").then(function(t){e.setState({files:t.data.map(function(e){return{name:e.filename,id:e._id}})})})}},{key:"componentDidMount",value:function(){this.updateFileState()}},{key:"componentDidUpdate",value:function(){this.updateFileState()}},{key:"onChange",value:function(e){e.target.files[0]&&(this.uploadingFile={file:e.target.files[0],name:e.target.files[0].name})}},{key:"generateList",value:function(e){var t=this;return e.map(function(e){return i.a.createElement("div",{key:e.id,className:"d-flex"},i.a.createElement(f.a,{action:!0,className:"fileitem"},e.name,i.a.createElement(g.a,{className:"downloadBtn",type:"submit",onClick:function(){return function(e,t){p()({url:e+"/download?id="+t.id,method:"GET",responseType:"blob"}).then(function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t.name),document.body.appendChild(n),n.click()})}(t.production_url,e)}},i.a.createElement("img",{className:"downloadIcon",src:k.a,alt:"download icon"})),i.a.createElement(x,{id:e.id,endpoint:t.production_url,file:e,deleteFile:F})))})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"Header"},i.a.createElement("img",{id:"lizard-logo",src:E.a,alt:"logo"}),i.a.createElement("p",{id:"project-name"},"LIZARD STORAGE PROJECT")),i.a.createElement("div",{className:"FileDisplay"},i.a.createElement(h.a,{id:"filelist"},this.generateList(this.state.files))),i.a.createElement("div",{className:"UploadForm"},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(){return function(e,t){var a=e+"/upload",n=new FormData;n.append("uploadingfile",t.file),n.append("name",t.name),p.a.post(a,n,{headers:{"content-type":"multipart/form-data"}})}(e.production_url,e.uploadingFile)}},i.a.createElement("input",{className:"selectFile",type:"file",name:"uploadingfile",onChange:function(t){return e.onChange(t)}}),i.a.createElement("input",{className:"uploadBtn",src:w.a,type:"image",alt:"upload icon"}))))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70);o.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.3011b002.chunk.js.map